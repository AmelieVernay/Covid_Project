
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/plot_regression.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_examples_plot_regression.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_plot_regression.py:


Polynomial regression
=====================

.. GENERATED FROM PYTHON SOURCE LINES 7-14

One way to visualize the evolution of a given epidemistic criterion
as weel as its trend, is to use **vizcovidfr's poly_fit** function,
which displays the scatter plot of the evolution of the given variable
in the given region with a polynomial regression. The
polynomial degree is chosen by minimizing the mean squared error.
Let's take a look at the situation in hospital care of our overseas
friends, in Martinique.

.. GENERATED FROM PYTHON SOURCE LINES 14-18

.. code-block:: default


    from vizcovidfr.regression import regression
    regression.poly_fit(2, 2)




.. image:: /auto_examples/images/sphx_glr_plot_regression_001.png
    :alt: Polynomial regression of Reanimation in Martinique, Degree of polynomial regression : 6
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Downloading data from https://static.data.gouv.fr/resources/donnees-hospitalieres-relatives-a-lepidemie-de-covid-19/20210421-181752/donnees-hospitalieres-classe-age-covid19-2021-04-21-18h17.csv (3.1 MB)

    file_sizes:   0%|                                   | 0.00/3.29M [00:00<?, ?B/s]    file_sizes:   8%|##2                        | 270k/3.29M [00:00<00:01, 2.58MB/s]    file_sizes:  19%|#####1                     | 631k/3.29M [00:00<00:00, 3.06MB/s]    file_sizes:  30%|########1                  | 991k/3.29M [00:00<00:00, 3.09MB/s]    file_sizes:  40%|##########4               | 1.32M/3.29M [00:00<00:00, 3.12MB/s]    file_sizes:  50%|#############             | 1.65M/3.29M [00:00<00:00, 3.09MB/s]    file_sizes:  60%|###############5          | 1.97M/3.29M [00:00<00:00, 3.06MB/s]    file_sizes:  70%|##################1       | 2.30M/3.29M [00:00<00:00, 3.10MB/s]    file_sizes:  80%|####################7     | 2.63M/3.29M [00:00<00:00, 2.75MB/s]    file_sizes:  90%|#######################3  | 2.96M/3.29M [00:01<00:00, 2.72MB/s]    file_sizes: 100%|##########################| 3.29M/3.29M [00:01<00:00, 2.97MB/s]
    Successfully downloaded file to /home/vamelie/Documents/ClonedRepo/vizcovidfr/vizcovidfr/loads/../data/./classe_age.csv
    Downloading data from https://static.data.gouv.fr/resources/donnees-hospitalieres-relatives-a-lepidemie-de-covid-19/20210421-181752/donnees-hospitalieres-classe-age-covid19-2021-04-21-18h17.csv (3.1 MB)

    file_sizes:   0%|                                   | 0.00/3.29M [00:00<?, ?B/s]    file_sizes:   8%|##                         | 254k/3.29M [00:00<00:01, 2.43MB/s]    file_sizes:  18%|####7                      | 582k/3.29M [00:00<00:00, 2.80MB/s]    file_sizes:  28%|#######4                   | 909k/3.29M [00:00<00:00, 3.00MB/s]    file_sizes:  42%|##########8               | 1.37M/3.29M [00:00<00:00, 3.22MB/s]    file_sizes:  53%|#############9            | 1.76M/3.29M [00:00<00:00, 3.24MB/s]    file_sizes:  65%|#################         | 2.15M/3.29M [00:00<00:00, 3.25MB/s]    file_sizes:  77%|####################1     | 2.55M/3.29M [00:00<00:00, 3.26MB/s]    file_sizes:  89%|#######################2  | 2.94M/3.29M [00:00<00:00, 3.31MB/s]    file_sizes: 100%|##########################| 3.29M/3.29M [00:01<00:00, 3.35MB/s]    file_sizes: 100%|##########################| 3.29M/3.29M [00:01<00:00, 3.22MB/s]
    Successfully downloaded file to /home/vamelie/Documents/ClonedRepo/vizcovidfr/vizcovidfr/loads/../data/./classe_age.csv
    /home/vamelie/Documents/ClonedRepo/vizcovidfr/vizcovidfr/regression/regression.py:264: FutureWarning: Support for multi-dimensional indexing (e.g. `obj[:, None]`) is deprecated and will be removed in a future version.  Convert to a numpy array before indexing instead.
      y = y[:, np.newaxis]
    Time to execute: 0.47913 s.




.. GENERATED FROM PYTHON SOURCE LINES 19-26

To go further
-------------
If you're interested in knowing more about the goodness-of-fit
of the above model, you can try to use the **R2** function with the
same parameters as before, which will give you the coefficient of
determination of the model, written :math:`R^2`.
In this example, it would be:

.. GENERATED FROM PYTHON SOURCE LINES 26-28

.. code-block:: default


    regression.R2(2, 2)




.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/vamelie/Documents/ClonedRepo/vizcovidfr/vizcovidfr/regression/regression.py:400: FutureWarning: Support for multi-dimensional indexing (e.g. `obj[:, None]`) is deprecated and will be removed in a future version.  Convert to a numpy array before indexing instead.
      y = y[:, np.newaxis]
    Time to execute: 0.31534 s.

    'R2 of polynomial regression of Reanimation in Martinique is : 0.8032124942723404.'




.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  4.415 seconds)


.. _sphx_glr_download_auto_examples_plot_regression.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_regression.py <plot_regression.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_regression.ipynb <plot_regression.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
